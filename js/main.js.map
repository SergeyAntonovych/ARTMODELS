{"version":3,"sources":["about.js","form.js","header-sticky.js","lazy-loading.js","magnificPopup.js","model.js","school.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["$(document).ready(function() {\n  var owl = $(\"#owl-about\");\n  owl.owlCarousel({\n    navigation : true,\n    items : 1,\n    autoplay:true,\n    autoplayTimeout:5000,\n    autoplaySpeed:1600,\n    dots:false, \n    loop:true,\n    nav:false,\n    responsiveClass:true,\n    responsive:{\n        760:{\n            items:1,\n            center:true,\n            nav:false,\n        },\n    }\n\n    \n    \n    // animateOut: 'fadeOut',\n    //    animateIn: 'fadeIn',\n\n      \n  });\n})\n\n","\"use strict\"\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    const form = document.getElementById('BeAModel');\r\n    const successModal = document.querySelector('.modalbox.success');\r\n    const successText = document.querySelector('.modalbox.success p');\r\n    const errorModal = document.querySelector('.modalbox.error');\r\n    const errorText = document.querySelector('.modalbox.error p');\r\n    const btn = document.querySelectorAll('.redo.btn');\r\n\r\n    if (!form) return null;\r\n    form.addEventListener('submit', formSend);\r\n    btn[0].addEventListener('click', () => {closeModal()});\r\n    btn[1].addEventListener('click', () => {closeModal()});\r\n    async function formSend(e) {\r\n        e.preventDefault();\r\n        const { error, el } = formValidate(form);\r\n\r\n        const formData = new FormData(form);\r\n        formData.append('image1', formImage1.files[0]);\r\n        formData.append('image2', formImage2.files[0]);\r\n        formData.append('image3', formImage3.files[0]);\r\n\r\n        if(error === 0) {\r\n          form.classList.add('_sending');\r\n          const response = await fetch('mail.php', {\r\n              method: 'POST',\r\n              body: formData\r\n          });\r\n          if (response.ok) {\r\n            formPreview1.innerHTML = '';\r\n            formPreview2.innerHTML = '';\r\n            formPreview3.innerHTML = '';\r\n            form.reset();\r\n            // show modal window\r\n            const result = await response.json();\r\n            successModal.style.display = 'block';\r\n            successText.innerHTML = result.message;\r\n          } else {\r\n            errorModal.style.display = 'block';\r\n            errorText.innerHTML = 'Что-то пошло не так....';\r\n            // show modal window error\r\n          }\r\n          form.classList.remove('_sending');\r\n        } else {\r\n          el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n    }\r\n\r\n    function formValidate(form) {\r\n        let error = 0;\r\n        let el = null;\r\n        let formReq = document.querySelectorAll('._req');\r\n\r\n        for(let index = 0; index < formReq.length; index++) {\r\n            const input = formReq[index];\r\n            formRemoveError(input);\r\n\r\n            if(input.classList.contains('_email')) {\r\n                if(emailTest(input)) {\r\n                    formAddError(input);\r\n                    if(!el) el = input;\r\n                    error++;\r\n                }\r\n            } else {\r\n                if(input.value === '') {\r\n                    formAddError(input);\r\n                    if(!el) el = input;\r\n                    error++;\r\n                }\r\n            }\r\n        }\r\n        return { error, el };\r\n    }\r\n\r\n    function formAddError(input) {\r\n        const span = input.nextSibling.nextSibling;\r\n        input.nextSibling.nextSibling.classList.add('error');\r\n        span.style.display = 'block';\r\n    }\r\n    function formRemoveError(input) {\r\n        const span = input.nextSibling.nextSibling;\r\n        span.classList.remove('error');\r\n        span.style.display = 'none';\r\n    }\r\n\r\n    function emailTest(input) {\r\n        return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n    }\r\n\r\n    const formImage1 = document.getElementById('upload1');\r\n    const formImage2 = document.getElementById('upload2');\r\n    const formImage3 = document.getElementById('upload3');\r\n\r\n    const formPreview1 = document.querySelector('.formPreview1');\r\n    const formPreview2 = document.querySelector('.formPreview2');\r\n    const formPreview3 = document.querySelector('.formPreview3');\r\n\r\n    formImage1.addEventListener('change', () => {\r\n        uploadFile(formImage1.files[0], formImage1, formPreview1);\r\n    });\r\n    formImage2.addEventListener('change', () => {\r\n        uploadFile(formImage2.files[0], formImage2, formPreview2);\r\n    });\r\n    formImage3.addEventListener('change', () => {\r\n        uploadFile(formImage3.files[0], formImage3, formPreview3);\r\n    });\r\n\r\n    formPreview1.parentElement.addEventListener('click', () => {\r\n        formImage1.click();\r\n    });\r\n    formPreview2.parentElement.addEventListener('click', () => {\r\n        formImage2.click();\r\n    });\r\n    formPreview3.parentElement.addEventListener('click', () => {\r\n        formImage3.click();\r\n    });\r\n\r\n    function uploadFile(file, form, preview) {\r\n\r\n        if(!['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {\r\n            errorModal.style.display = block;\r\n            errorText.innerHTML = 'Разрешены только изображения.';\r\n            form.value = '';\r\n            return;\r\n        }\r\n\r\n        if(file.size > 3 * 1024 * 1024) {\r\n            errorModal.style.display = block;\r\n            errorText.innerHTML = 'Файл должен быть менее 3 МБ.';\r\n            return;\r\n        }\r\n        \r\n        const reader = new FileReader();\r\n        reader.onload = function(e) {\r\n            const imgName = form.nextSibling.nextSibling.nextSibling.nextSibling;\r\n            preview.parentElement.classList.add('is-loaded')\r\n            imgName.classList.replace('placeholder', 'upload-success');\r\n            imgName.innerHTML = file.name;\r\n\r\n            const width = preview.width;\r\n            const height = preview.height;\r\n            preview.src = e.target.result;\r\n            preview.width = width + 'px';\r\n            preview.style.width = width + 'px';\r\n        }\r\n        reader.onerror = function(e) {\r\n            errorModal.style.display = block;\r\n            errorText.innerHTML = 'Ошибка загрузки';\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    function closeModal() {\r\n        successModal.style.display = 'none';\r\n        errorModal.style.display = 'none';\r\n    }\r\n});","$(window).scroll(function(){\n  if ($(this).scrollTop() > 120) {\n      $('.header').addClass('fixed');\n  } else {\n      $('.header').removeClass('fixed');\n  }\n});","ScrollOut({\n  targets: '.photo', \n  once: true,\n  onShown: function(el) {\ndebugger;     if (!el.src) { \n        el.src = el.dataset.src;\n     }\n  }\n})","$('.container-photo').magnificPopup({\r\n  delegate: 'a', // child items selector, by clicking on it popup will open\r\n  type: 'image',\r\n  gallery:{enabled:true}\r\n  // other options\r\n\r\n});\r\n","$(document).ready(function() {\n  var owl = $(\"#owl-demo\");\n  owl.owlCarousel({\n    navigation : false,\n    items : 2,\n    dots:false,\n    nav:true,\n    loop:false,\n    animateOut: 'fadeOut',\n    animateIn: 'fadeIn',\n    navText: ['<span class=\"fas fa-chevron-left fa-2x\"></span>','<span class=\"fas fa-chevron-right fa-2x\"></span>'],\n\n       \n  });\n  owl.on('mousewheel', '.owl-stage', function (e) {\n    var speed = 1500;\n    if (e.deltaY>0 || e.originalEvent.deltaY>0) {\n        owl.trigger('next.owl', [speed]);\n        owl.trigger('next.owl',[speed]);\n    } else { \n        owl.trigger('prev.owl',[speed]);\n        owl.trigger('prev.owl',[speed]);\n    }\n    e.preventDefault();\n});\n  \n});\n\n\n\n\n    ","$(\".js-modal-btn\").modalVideo();\n$(document).ready(function(){\n  $('.accordion-list > li > .answer').hide();\n    \n  $('.accordion-list > li').click(function() {\n    if ($(this).hasClass(\"active\")) {\n      $(this).removeClass(\"active\").find(\".answer\").slideUp();\n    } else {\n      $(\".accordion-list > li.active .answer\").slideUp();\n      $(\".accordion-list > li.active\").removeClass(\"active\");\n      $(this).addClass(\"active\").find(\".answer\").slideDown();\n    }\n    return false;\n  });\n  \n});","$(document).ready(function(){\n  $(\".owl-carousel\").owlCarousel({\n    items:1,\n    loop:true,\n    margin:600,\n    autoplay:true,\n    autoplayTimeout:5000,\n    autoplaySpeed:1600,\n    center: true,\n    slideTransition: \"ease-in-out\"  \n  });\n});\n"]}